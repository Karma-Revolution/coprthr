<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>coprthr v1.4.0 Release Notes</title>
  <meta name="generator" content="Amaya, see http://www.w3.org/Amaya/" />
  <style type="text/css" title="Amaya theme">
/* Modern style for Amaya Editor Lite */

/* default rules for the whole document */
body {
    font-size: 12pt;
    font-family: Times New Roman,Times,serif; /* Helvetica, Arial, sans-serif; */
    font-weight: normal;
    font-style: normal;
    color: black;
    background-color: white;
    line-height: 1.2em;
    margin-left: 4em;
    margin-right: 2em;
   }

/* paragraphs */
p  {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    text-align: left;
   }

/* headings */
h1 {
    font-size: 180%;
    font-weight: bold;
    font-style: normal;
    font-variant: small-caps;
    text-align: left;
    padding: 0;
    margin-top: 1.7em;
    margin-bottom: 1.7em;
   }
h2 {
    font-size: 150%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.5em;
    margin-bottom: 1.1em;
   }
h3 {
    font-size: 130%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.3em;
    margin-bottom: 1.1em;
   }
h4 {
    font-size: 110%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.1em;
    margin-bottom: 1.1em;
   }
h5 {
    font-size: 100%;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
   }
h6 {
    font-size: 100%;
    font-weight: normal;
    font-style: italic;
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
   }

/* divisions */
div {
    padding: 0;
    margin-top: 0em;
    margin-bottom: 0em;
   }

/* lists */
ul, ol {
    padding: 0 0 0 3em;
    margin-top: 1em;
    margin-bottom: 1em;
   }
ul ul, ol ol, ul ol, ol ul {
    margin-top: 1em;
    margin-bottom: 1em;
   }
li {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    text-align: left;
   }
li p {
    margin-top: 1em;
    margin-bottom: 1em;
   }
dl {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 1em;
   }
dl dl {
    margin-top: 0em;
    margin-bottom: 0em;
   }
dt {
    padding: 0;
    font-weight: bold;
    margin-top: .3em;
    margin-bottom: .3em;
   }
dd {
    padding: 0;
    margin-top: .3em;
    margin-left: 3em;
    margin-bottom: .3em;
   }
dl p {
    margin-top: .3em;
    margin-bottom: .3em;
   }

/* inline */
strong {
    font-weight: bold;
   }
em {
    font-style: italic;
   }
code {
    font-family: Courier New, Courier, monospace;
   }
ins {
    background-color: yellow;
    text-decoration: underline;
   }
del {
    text-decoration: line-through;
   }

/* anchors */
a[href] {
    color: blue;
    text-decoration: underline;
   }

/* end */
  </style>
</head>

<body>
<p><img alt="" src="bdt_logo.jpg" width="201" height="70" /></p>

<h2 style="text-align:center;margin-left:auto;margin-right:auto;"><span
style="font-family: Times New Roman,Times,serif"><span
style="font-family: Arial,Helvetica,sans-serif">COPRTHR version 1.4 (echo)
Release Notes</span></span></h2>

<p style="text-align:center;margin-left:auto;margin-right:auto;">Copyright ©
2011-2012 Brown Deer Technology, LLC</p>

<p style="text-align:center;margin-left:auto;margin-right:auto;"><span
style="font-size: 10pt"><span
style="font-family: Times New Roman,Times,serif"><em>Verbatim copying and
distribution of this entire document is </em></span></span><span
style="font-family: Times New Roman,Times,serif"><span
style="font-size: 10pt"><em>permitted </em></span></span><span
style="font-size: 10pt"><span
style="font-family: Times New Roman,Times,serif"><em>in any medium, provided
this notice is preserved.</em></span></span></p>
<hr />
The CO-PRocessing THReads (COPRTHR) SDK provides several OpenCL&trade; related
libraries and tools for developers targeting many-core compute technology and
hybrid CPU/GPU/APU computing architectures. 
<hr />
<ul style="list-style: none;">
  <li style="line-height:1em;">1 <a href="#New">New in version 1.4 (echo)
    release</a></li>
  <li style="line-height:1em;">2 <a href="#Support">Support and
  Requirements</a></li>
  <li style="line-height:1em;">3 <a href="#Important">Important Notes</a></li>
  <li style="line-height:1em;">4 <a href="#Frequently">Frequently Asked
    Questions</a></li>
  <li style="line-height:1em;">5 <a href="#More">More Information</a></li>
</ul>
<hr />

<h3><a name="New" id="New">1 New In Version 1.4 (echo release) </a></h3>
<ul>
  <li>Offline OpenCL compiler supporting a real compilation model (clcc, clld,
    clnm) 
    <ul>
      <li>Supports cross-platform multi-device compilation using an open
        ELF-based specification (CL-ELF)</li>
      <li>Compile multiple OpenCL kernel files for multiple devices into a
        single linkable ELF object file</li>
      <li>Redesigned STDCL dynamic loader makes embedded kernels available with
        a single call</li>
    </ul>
  </li>
  <li>Redesigned OpenCL implementation for x86_64 (libcoprthr) 
    <ul>
      <li>Eliminates complex dependencies, requires only GCC for
      compilation</li>
      <li>Light-weight, high-performance design faster than vendor SDKs on some
        HPC benchmarks</li>
    </ul>
  </li>
  <li>OpenCL implementation for multicore ARM processors (libcoprthr) 
    <ul>
      <li>Includes NEON SIMD instructions with GCC vectorization</li>
      <li>Includes full COPRTHR port to Linux Angstrom for embedded
      processors</li>
    </ul>
  </li>
  <li>Preview of replacement for Khronos ICD loader (libocl) 
    <ul>
      <li>Open specification with flexible system configuration options</li>
      <li>Backward compatibility with libOpenCL.so</li>
    </ul>
  </li>
  <li>Improved build system</li>
  <li>Updated examples and documentation</li>
  <li>Supports Linux, FreeBSD and Windows 7 with MSVS 2010</li>
  <li>STDCL is tested against AMD SDK v2.4/v2.5, Nvidia CUDA 4.0, Intel OCL SDK
    v1.5</li>
</ul>
<hr />

<h2>2 <a name="Support" id="Support">Support and Requirements</a></h2>

<p>Support continues for most modern Linux distributions including CentOS 5/6,
and OpenSuSE 11.3. Full support for FreeBSD-8 also continues. The basic
functionality provided by the STDCL interface is provided for Windows 7 using
MSVS 2010. Specific feature support by operating system is shown in the table
below.</p>

<table border="1">
  <col />
  <col />
  <col />
  <col />
  <col />
  <tbody>
    <tr>
      <td style="font-size: 11pt"><strong>COPRTHR Feature</strong></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>Description</strong></td>
      <td style="font-size: 11pt"><strong>Linux</strong></td>
      <td style="font-size: 11pt"><strong>FreeBSD</strong></td>
      <td style="font-size: 11pt"><strong>Windows</strong></td>
    </tr>
    <tr>
      <td style="font-size: 11pt">libstdcl</td>
      <td style="font-size: 11pt">STDCL interface</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
    </tr>
    <tr>
      <td style="font-size: 11pt">libcoprthr</td>
      <td style="font-size: 11pt">OpenCL implementation </td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td style="font-size: 11pt"></td>
    </tr>
    <tr>
      <td style="font-size: 11pt">libocl</td>
      <td style="font-size: 11pt">OpenCL platform loader</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td style="font-size: 11pt"></td>
    </tr>
    <tr>
      <td style="font-size: 11pt">clcc,clld,clnm</td>
      <td style="font-size: 11pt">Offline OpenCL compiler</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt"></td>
    </tr>
    <tr>
      <td style="font-size: 11pt">cltrace</td>
      <td style="font-size: 11pt">Tracing tool</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">x</td>
      <td style="font-size: 11pt"></td>
    </tr>
  </tbody>
</table>

<p>This release is compatible with OpenCL implementations provided by AMD APP
v2.4/2.5, Nvidia CUDA-4 and Intel OCL SDK v1.5. In addition, an open-source
OpenCL run-time implementation for x86_64 and ARM multi-core processors is
provided as part of the COPRTHR SDK, which may be used on platforms for which
no vendor support is available. The COPRTHR OpenCL implementation may also be
of interest since it exhibits better performance than vendor implementations on
some real-world benchmarks.</p>

<p>This release supports x86_64 CPUs from AMD and Intel as well as GPUs from
AMD and Nvidia, and has been tested successfully on the following graphics
cards: AMD Radeon HD 5870, 5970, 6970, AMD FirePro V8800, Nvidia Tesla S1070,
C2050, and C2070. AMD A-series APUs are also supported. Support has been
extended to include multicore ARM processors running Linux Angstrom.<br />
</p>

<p>The table below provides a comprehensive matrix of required packages matched
to a specific platform and feature set. Please take note that libelf 1.x branch
found on most Linux distributions is not a valid substitute for libelf-0.8.13
since they lack the required features and exhibit undocumented broken
behavior.</p>

<table border="1">
  <col />
  <col />
  <col />
  <col />
  <col />
  <col />
  <tbody>
    <tr>
      <td colspan="4"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>COPRTHR
        Feature</strong></td>
      <td rowspan="2"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>Package</strong></td>
      <td rowspan="2"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>Download</strong></td>
    </tr>
    <tr>
      <td style="font-size: 11pt">libstdcl</td>
      <td style="font-size: 11pt">clcc</td>
      <td style="font-size: 11pt">libocl</td>
      <td style="font-size: 11pt">libcoprthr</td>
    </tr>
    <tr>
      <td colspan="6"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>Linux
        CentOS 5/6, OpenSuSE 11.3</strong></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt"><span style="font-size: 11pt">AMD APP
        v2.4/2.5</span></td>
      <td style="font-size: 11pt"><a
        href="http://developer.amd.com/sdks/AMDAPPSDK/downloads">developer.amd.com/sdks/AMDAPPSDK/downloads</a></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">Nvidia CUDA 4</td>
      <td style="font-size: 11pt"><a
        href="http://developer.nvidia.com/cuda-toolkit-40">developer.nvidia.com/cuda-toolkit-40</a></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">Intel OCL SDK 1.5</td>
      <td style="font-size: 11pt"><a
        href="http://software.intel.com/en-us/articles/vcsource-tools-opencl-sdk">software.intel.com/en-us/articles/vcsource-tools-opencl-sdk</a></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">R</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">R</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">libelf 0.8.13</td>
      <td style="font-size: 11pt"><a
        href="http://software.intel.com/en-us/articles/download-intel-opencl-sdk">www.mr511.de/software/libelf-0.8.13.tar.gz</a></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">R</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">R</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">libssl</td>
      <td style="font-size: 11pt"><a
        href="http://www.openssl.org">www.openssl.org/</a></td>
    </tr>
    <tr>
      <td colspan="6"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>FreeBSD-8</strong></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">R</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">R</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">libelf 0.8.13</td>
      <td style="font-size: 11pt"><a
        href="http://www.mr511.de/software/libelf-0.8.13.tar.gz">www.mr511.de/software/libelf-0.8.13.tar.gz</a></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">R</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">R</td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">libssl</td>
      <td style="font-size: 11pt"><a
        href="http://www.openssl.org">www.openssl.org/</a></td>
    </tr>
    <tr>
      <td colspan="6"
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"><strong>Windows
        7</strong></td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">AMD APP v2.4/2.5</td>
      <td style="font-size: 11pt"><a
        href="http://developer.amd.com/sdks/AMDAPPSDK/downloads">developer.amd.com/sdks/AMDAPPSDK/downloads</a>
      </td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">Nvidia CUDA 4</td>
      <td style="font-size: 11pt"><a
        href="http://developer.nvidia.com/cuda-toolkit-40">developer.nvidia.com/cuda-toolkit-40</a>
      </td>
    </tr>
    <tr>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt">O</td>
      <td style="text-align:center;margin-left:auto;margin-right:auto;">O</td>
      <td style="font-size: 11pt"></td>
      <td
      style="text-align:center;margin-left:auto;margin-right:auto;font-size: 11pt"></td>
      <td style="font-size: 11pt">Intel OCL SDK 1.5</td>
      <td style="font-size: 11pt"><a
        href="http://software.intel.com/en-us/articles/vcsource-tools-opencl-sdk">software.intel.com/en-us/articles/vcsource-tools-opencl-sdk</a></td>
    </tr>
  </tbody>
</table>

<p><span style="font-size: 11pt">O=Optional, R=Required</span></p>
<hr />

<h3><a name="Important" id="Important">3 Important Notes</a></h3>
<ul>
  <li><em>On Windows 7 platforms the function </em><span
    style="font-family: Courier New,Courier,monospace">init_stdcl()</span><em>must
    be called to initialize the STDCL API. This call is unnecessary for Linux
    and FreeBSD, but there is no harm in including it since it will default to
    an empty macro.<span
    style="font-family: Courier New,Courier,monospace"></span></em> </li>
  <li>The libraries <code>libstdcl</code>, <span
    style="font-family: Courier New,Courier,monospace">libcoprthr</span> and
    <code>libocl</code> are provided with debug versions
    <code>libstdcl_d</code>, <span
    style="font-family: Courier New,Courier,monospace">libcoprthr_d</span> and
    <code>libocl_d</code>, respectively. Linking against these libraries can be
    very useful for debugging as well as understanding how each library
    operates.</li>
  <li>The platform that you select may not support certain types of devices,
    e.g., the Nvidia SDK does not suport CPUs. This may cause problems with
    some configurations. The easiest solution is to disable the context for
    which no devices are supported, e.g., setting the environment variable
    STDCPU=0 will cause the runtime to ignore the CPU context. For vendor
    implementations that incur a non-negligible cost for creating contexts,
    this can also improve the start-up performance of some applications.</li>
  <li>The version of the boost library (1.47.0) used here for development
    unfortunately has a very minor bug that prevents it from working with MSVS
    2010. A fix to the boost package is provided in this release. Just follow
    the instructions under the msvs2010/boost_1_47_0-multi_array-iterator-fix/
    directory. (All you need to do is copy over a replacement for
  iterator.hpp.)</li>
  <li>Configure script options have been revised to provide better automatic
    platform detection and better user control over platform selection.
    Additionally, the libelf dependency is more carefully checked to avoid a
    previously common installation error.</li>
  <li><span style="color:#ff0000"></span>A new platform selection policy is
    used that allows a priority-ordered comma separated list of platform names
    that are used to determine which platform should be used for default
    contexts. The new policy is more robust and will only fail if no platform
    is found capable of supporting at least one context device type.</li>
  <li>The operations CL_MCTL_SET_USERFLAGS and CL_MCTL_CLR_USERFLAGS have been
    added to the clmctl() call to allow setting vendor/device specific
    additional cl_mem_flags not directly controlled by STDCL. These operations
    cna only be performed on a detached allocation and will be applied by the
    calls clmattach() or clmrealloc(). The behavior of the specified flags is
    not checked therefore these operations should be used with caution.</li>
  <li>Fortran bindings for STDCL require GCC 4.4 or later since they utilize
    the ISO C binding support.</li>
  <li>Optimial performance using the COPRTHR OCL implementation (libcoprthr)
    requires GCC 4.6 and the 'no-template' model. This can be configured using
    --enable-libcoprthr --with-libcoprthr-cc=gcc46 --with-libcoprthr-cxx=g++46
    --with-libcoprthr-model=no-template . </li>
  <li>Some example kernels include the stdcl.h header. Including this header
    for OpenCL kernels allows the use of alternate syntax that avoids breaking
    C. Programmers are encouraged to begin this practice now. A future release
    will formalize syntax corrections to OpenCL to produce a C
    <em>compliant</em> language for programming thread functions (kernels). The
    alternate syntax will be completely backward compatable with OpenCL.</li>
</ul>
<hr />

<h3>4 <a name="Frequently" id="Frequently">Frequently Asked Questions</a></h3>

<p>Below are answers to frequently asked questions regarding COPRTHR SDK and
STDCL.</p>
<dl>
  <dt>Does STDCL require the BDT OpenCL run-time?</dt>
    <dd>No. The basic installation of libstdcl.so will work with any compliant
      OpenCL installation including the latest implementations from AMD, Nvidia
      and Intel.</dd>
  <dt>Will using STDCL reduce performance or limit access to OpenCL
  functionality?</dt>
    <dd>No. STDCL is implemented as a very light-weight interface, does not
      restrict access to direct OpenCL and fully supports asynchronous
      operations across multiple devices.</dd>
  <dt>Are STDCL calls simply wrappers for OpenCL calls?</dt>
    <dd>No. There is a bit more to the interface than wrapping OpenCL calls.
      For the curious, take a look at the source code.</dd>
</dl>
<hr />

<h3>5 <a name="More" id="More">More Information</a></h3>

<p>Additional information including installation instructions and examples may
be found in <strong>The COPRTHR Primer</strong> revision 1.4 along with more
detailed documentation and examples.</p>
<hr />
<span style="font-size: 9pt">revised 3 March 2012 by DAR</span> </body>
</html>
